import{j as e,u as x}from"./index-fliBAwov.js";import{r as c,u as h,L as g}from"./vendor-D8AvkUoV.js";import{s as f,A as b}from"./auth-BqsiOfVF.js";import{u as j,a as v}from"./schemas-BznUp_a-.js";import{T as N,m,n as y,i as o,o as w,k,l as _}from"./ui-mytIhYa7.js";import"./compat-DOTGHHbm.js";const S=({isOpen:r,onAccept:a,onDecline:n})=>{const[i,l]=c.useState(!1);return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"bg-amber-500/10 p-6 border-b border-amber-500/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg text-amber-600 dark:text-amber-500",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Disclaimer"})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 leading-relaxed",children:"This platform uses advanced Artificial Intelligence to generate quiz content, including questions, images, and explanations."}),e.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 leading-relaxed mt-2",children:"IHRD and associated institutions may contact you for updates, news, or research purposes."}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded-xl space-y-3 text-sm text-zinc-600 dark:text-zinc-400",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"w-4 h-4 mt-0.5 shrink-0 text-indigo-500"}),e.jsx("p",{children:"While we strive for accuracy, AI-generated content may occasionally contain errors or inaccuracies."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"w-4 h-4 mt-0.5 shrink-0 text-indigo-500"}),e.jsx("p",{children:"Please verify critical information independently. Use this tool as a learning aid, not a definitive source."})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 cursor-pointer transition-colors group",children:[e.jsxs("div",{className:"relative flex items-center mt-0.5",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:i,onChange:s=>l(s.target.checked)}),e.jsx("div",{className:"w-5 h-5 border-2 border-zinc-300 dark:border-zinc-600 rounded transition-colors peer-checked:bg-indigo-600 peer-checked:border-indigo-600 peer-focus:ring-2 peer-focus:ring-indigo-500/20"}),e.jsx(y,{className:"absolute w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 left-0.5 top-0.5 transition-opacity pointer-events-none"})]}),e.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 group-hover:text-zinc-900 dark:group-hover:text-white transition-colors",children:"I understand and agree to the terms regarding AI-generated content."})]})]}),e.jsxs("div",{className:"p-6 pt-2 flex gap-3",children:[e.jsx("button",{onClick:n,className:"flex-1 px-4 py-2.5 text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{onClick:a,disabled:!i,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl shadow-lg shadow-indigo-500/20 transition-all",children:"I Agree & Continue"})]})]})}):null},z=()=>{const[r,a]=c.useState(!1),[n,i]=c.useState(!1),{signUp:l}=x(),s=j({resolver:v(f),defaultValues:{category:"student",terms_accepted:void 0,mobile_number:"",email:"",password:""}}),u=async t=>{try{a(!0),await l({email:t.email,password:t.password,name:t.full_name,phone:t.mobile_number,category:t.category,district:t.district,institution_name:t.institution_name,course_of_study:t.course_of_study,class_level:t.class_level}),o.success("Account created successfully!")}catch(d){const p=d instanceof Error?d.message:"Failed to sign up";o.error(p)}finally{a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{isOpen:n,onAccept:()=>{s.setValue("terms_accepted",!0),i(!1),o.success("Terms accepted")},onDecline:()=>i(!1)}),e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Create Account"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Join the AI-powered learning revolution"})]}),e.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{...s.register("full_name"),placeholder:"Full Name",className:"input-vibeai"}),s.formState.errors.full_name&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.full_name.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s.register("email"),type:"email",placeholder:"Email Address",className:"input-vibeai"}),s.formState.errors.email&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-3.5 text-slate-400",children:"+91"}),e.jsx("input",{...s.register("mobile_number"),placeholder:"Mobile Number",className:"w-full pl-12 pr-4 py-3 rounded-lg bg-input border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),s.formState.errors.mobile_number&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.mobile_number.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s.register("password"),type:"password",placeholder:"Password (min 6 chars)",className:"input-vibeai"}),s.formState.errors.password&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.password.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("select",{...s.register("category"),className:"input-vibeai appearance-none",children:[e.jsx("option",{value:"student",className:"bg-card",children:"Student"}),e.jsx("option",{value:"educator",className:"bg-card",children:"Educator"}),e.jsx("option",{value:"other",className:"bg-card",children:"Other"})]})}),e.jsxs("div",{children:[e.jsx("input",{...s.register("district"),placeholder:"District",className:"input-vibeai"}),s.formState.errors.district&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.district.message})]})]}),e.jsxs("div",{children:[e.jsx("input",{...s.register("institution_name"),placeholder:"Institution Name",className:"input-vibeai"}),s.formState.errors.institution_name&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.institution_name.message})]}),s.watch("category")==="student"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("input",{...s.register("course_of_study"),placeholder:"Course",className:"input-vibeai"}),s.formState.errors.course_of_study&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.course_of_study.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s.register("class_level"),placeholder:"Class/Year",className:"input-vibeai"}),s.formState.errors.class_level&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.class_level.message})]})]}),e.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[e.jsxs("div",{className:"relative flex items-center mt-1",children:[e.jsx("input",{type:"checkbox",...s.register("terms_accepted"),className:"peer sr-only",id:"terms"}),e.jsx("div",{onClick:()=>i(!0),className:`w-5 h-5 border-2 rounded cursor-pointer transition-colors ${s.watch("terms_accepted")?"bg-primary border-primary":"border-border bg-input"}`}),s.watch("terms_accepted")&&e.jsx(w,{className:"absolute w-3.5 h-3.5 text-white left-0.5 top-0.5 pointer-events-none"})]}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-muted-foreground cursor-pointer select-none",children:["I agree to the ",e.jsx("span",{className:"text-primary hover:text-primary/80 hover:underline",onClick:()=>i(!0),children:"AI Content Disclaimer"})," and Terms of Service"]})]}),s.formState.errors.terms_accepted&&e.jsx("p",{className:"text-xs text-destructive ml-1",children:s.formState.errors.terms_accepted.message})]}),e.jsx("button",{type:"submit",disabled:r,className:"btn-vibeai w-full flex items-center justify-center gap-2",children:r?e.jsx(k,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Create Account ",e.jsx(_,{className:"w-4 h-4"})]})})]})]})]})},L=()=>{const{isAuthenticated:r,isLoading:a}=x(),n=h();return c.useEffect(()=>{!a&&r&&n("/dashboard",{replace:!0})},[r,a,n]),a&&r?null:e.jsxs(b,{children:[e.jsx(z,{}),e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(g,{to:"/login",className:"font-medium text-primary hover:text-primary/80 hover:underline transition-all",children:"Sign in instead"})]})]})};export{L as Signup};
