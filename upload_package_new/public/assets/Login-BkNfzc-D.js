import{u as c,j as e}from"./index-CtFufLgh.js";import{r as l,u as m,L as p}from"./vendor-D8AvkUoV.js";import{l as f,A as h}from"./auth-Dcvwuz4i.js";import{u as g,a as j}from"./schemas-BznUp_a-.js";import{e as b,f as v,g as n}from"./ui-CX4g-7i5.js";const N=()=>{const[r,t]=l.useState(!1),{signIn:a}=c(),d=m(),s=g({resolver:j(f),defaultValues:{rememberMe:!1,identifier:"",password:""}}),u=async i=>{try{t(!0),await a({email:i.identifier,password:i.password}),n.success("Welcome back!"),d("/dashboard")}catch(o){const x=o instanceof Error?o.message:"Failed to sign in";n.error(x)}finally{t(!1)}};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Sign in to access your personalized AI learning path"})]}),e.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{...s.register("identifier"),placeholder:"Email or Mobile Number",className:"input-vibeai"}),s.formState.errors.identifier&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.identifier.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s.register("password"),type:"password",placeholder:"Password",className:"input-vibeai"}),s.formState.errors.password&&e.jsx("p",{className:"text-xs text-destructive mt-1 ml-1",children:s.formState.errors.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",...s.register("rememberMe"),className:"rounded border-border bg-input text-primary focus:ring-primary/50 focus:ring-offset-0"}),e.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 hover:underline transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:r,className:"btn-vibeai w-full flex items-center justify-center gap-2",children:r?e.jsx(b,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Sign In ",e.jsx(v,{className:"w-4 h-4"})]})})]})]})},k=()=>{const{isAuthenticated:r,isLoading:t}=c(),a=m();return l.useEffect(()=>{!t&&r&&a("/dashboard",{replace:!0})},[r,t,a]),t&&r?null:e.jsxs(h,{children:[e.jsx(N,{}),e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(p,{to:"/signup",className:"font-medium text-primary hover:text-primary/80 hover:underline transition-all",children:"Create one now"})]})]})};export{k as Login};
