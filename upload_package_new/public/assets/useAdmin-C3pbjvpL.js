import{r as i}from"./vendor-D8AvkUoV.js";import{a as o}from"./index-CtFufLgh.js";function L(){const[l,a]=i.useState(!1),[u,r]=i.useState(null);return{isLoading:l,error:u,fetchUsers:async s=>{a(!0),r(null);try{const t={...s},e=await o.get("/admin/users.php",{params:t});return{users:e.data.users,total:e.data.total}}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},fetchUserActivity:async s=>{a(!0),r(null);try{const t=await o.get("/admin/user_activity.php",{params:{userId:s}});return{logins:t.data.logins,attempts:t.data.attempts,activity:t.data.activity}}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},fetchActivityLogs:async s=>{a(!0),r(null);try{const t={...s};s?.startDate&&(t.startDate=s.startDate.toISOString()),s?.endDate&&(t.endDate=s.endDate.toISOString());const e=await o.get("/analytics/logs.php",{params:t});return{logs:e.data.logs,total:e.data.total}}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},toggleUserStatus:async(s,t,e)=>{a(!0),r(null);try{await o.post("/admin/toggle_user.php",{userId:s,disabled:t,reason:e})}catch(n){const c=n instanceof Error?n.message:"An error occurred";throw r(c),n}finally{a(!1)}},fetchQuestions:async s=>{a(!0),r(null);try{return{questions:(await o.get("/questions/list.php",{params:s})).data.data,total:100}}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},createQuestion:async s=>{a(!0),r(null);try{return(await o.post("/questions/create.php",s)).data}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},updateQuestion:async(s,t)=>{a(!0),r(null);try{return(await o.post("/questions/update.php",{id:s,...t})).data.data}catch(e){const n=e instanceof Error?e.message:"An error occurred";throw r(n),e}finally{a(!1)}},deleteQuestion:async s=>{a(!0),r(null);try{await o.post("/questions/delete.php",{id:s})}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},generateQuestions:async s=>(console.warn("generateQuestions not implemented"),[]),fetchMedia:async s=>{a(!0),r(null);try{const t=await o.get("/media/list.php",{params:s});return{media:t.data.media,total:t.data.total}}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},uploadMedia:async(s,t,e)=>{a(!0),r(null);try{const n=new FormData;return n.append("file",s),n.append("type",t),e&&n.append("description",e),(await o.post("/media/upload.php",n,{headers:{"Content-Type":"multipart/form-data"}})).data.file}catch(n){const c=n instanceof Error?n.message:"An error occurred";throw r(c),n}finally{a(!1)}},deleteMedia:async s=>{a(!0),r(null);try{await o.post("/media/delete.php",{id:s})}catch(t){const e=t instanceof Error?t.message:"An error occurred";throw r(e),t}finally{a(!1)}},fetchAnalytics:async(s,t)=>{a(!0),r(null);try{const e={};return s&&(e.startDate=s.toISOString()),t&&(e.endDate=t.toISOString()),(await o.get("/admin/analytics.php",{params:e})).data}catch(e){const n=e instanceof Error?e.message:"An error occurred";throw r(n),e}finally{a(!1)}},fetchDailyStats:async()=>[],fetchCategoryStats:async()=>[],fetchRegistrationStats:async()=>[]}}export{L as u};
